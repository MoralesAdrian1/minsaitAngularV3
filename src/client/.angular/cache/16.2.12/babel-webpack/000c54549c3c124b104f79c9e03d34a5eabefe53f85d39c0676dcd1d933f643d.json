{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/forms\";\nexport class RegisterComponent {\n  constructor(userService, fb) {\n    this.userService = userService;\n    this.fb = fb;\n    this.user = [];\n    this.userForm = this.fb.group({\n      _id: [''],\n      username: [\"\", Validators.required],\n      email: [\"\", Validators.required],\n      password: [\"\", Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.cargarUser();\n  }\n  cargarUser() {\n    this.userService.getUser().subscribe(data => {\n      this.user = data;\n    }, error => {\n      console.error('Error al cargar user:', error);\n    });\n  }\n  agregarUser() {\n    if (this.userForm.valid) {\n      this.userService.addUser(this.userForm.value).subscribe(() => {\n        this.cargarUser();\n        this.userForm.reset();\n      }, error => {\n        console.error('Error al agregar user:', error);\n      });\n    }\n  }\n  actualizarUser() {\n    if (this.userForm.valid) {\n      this.userService.updateUser(this.userForm.value).subscribe(() => {\n        this.cargarUser();\n        this.userForm.reset();\n      }, error => {\n        console.error('Error al actualizar user:', error);\n      });\n    }\n  }\n  eliminarUser(id) {\n    if (id) {\n      this.userService.deleteUser(id).subscribe(data => {\n        console.log('user eliminado:', data);\n        this.cargarUser();\n      }, error => {\n        console.error('Error al eliminar user:', error);\n      });\n    }\n  }\n  editarUser(user) {\n    this.userForm.patchValue(user);\n  }\n  static #_ = this.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 33,\n    vars: 1,\n    consts: [[1, \"vh-100\", 2, \"background-color\", \"#12163d\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col\", \"col-xl-10\"], [1, \"card\", 2, \"border-radius\", \"1rem\"], [1, \"row\", \"g-0\"], [1, \"col-md-6\", \"col-lg-5\", \"d-none\", \"d-md-block\"], [\"src\", \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp\", \"alt\", \"login form\", 1, \"img-fluid\", 2, \"border-radius\", \"1rem 0 0 1rem\"], [1, \"col-md-6\", \"col-lg-7\", \"d-flex\", \"align-items-center\"], [1, \"card-body\", \"p-4\", \"p-lg-5\", \"text-black\"], [3, \"formGroup\"], [1, \"d-flex\", \"align-items-center\", \"mb-3\", \"pb-1\"], [1, \"fas\", \"fa-cubes\", \"fa-2x\", \"me-3\", 2, \"color\", \"#12163d\"], [1, \"h1\", \"fw-bold\", \"mb-0\"], [1, \"fw-normal\", \"mb-3\", \"pb-3\", 2, \"letter-spacing\", \"1px\"], [1, \"form-group\"], [\"for\", \"username\", 1, \"text-dart\"], [\"type\", \"text\", \"id\", \"username\", \"name\", \"username\", \"formControlName\", \"username\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"email\", 1, \"text-dart\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"email\", \"formControlName\", \"email\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"password\", 1, \"text-dart\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"formControlName\", \"password\", \"required\", \"\", 1, \"form-control\"], [1, \"btn-group\", \"mt-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"rel\", \"stylesheet\", \"href\", \"https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/flatly/bootstrap.min.css\", \"integrity\", \"sha384-qF/QmIAj5ZaYFAeQcrQ6bfVMAh4zZlrGwTPY7T/M+iTTLJqJBJjwwnsE5Y0mV7QK\", \"crossorigin\", \"anonymous\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6);\n        i0.ɵɵelement(7, \"img\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 8)(9, \"div\", 9)(10, \"form\", 10)(11, \"div\", 11);\n        i0.ɵɵelement(12, \"i\", 12);\n        i0.ɵɵelementStart(13, \"span\", 13);\n        i0.ɵɵtext(14, \"Logo\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"h5\", 14);\n        i0.ɵɵtext(16, \"Sign into your account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 15)(18, \"label\", 16);\n        i0.ɵɵtext(19, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 15)(22, \"label\", 18);\n        i0.ɵɵtext(23, \"email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"input\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 15)(26, \"label\", 20);\n        i0.ɵɵtext(27, \"password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"input\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 22)(30, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_30_listener() {\n          return ctx.agregarUser();\n        });\n        i0.ɵɵtext(31, \"Registrarme\");\n        i0.ɵɵelementEnd()()()()()()()()()()();\n        i0.ɵɵelement(32, \"link\", 24);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n      }\n    },\n    dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.FormGroupDirective, i2.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","RegisterComponent","constructor","userService","fb","user","userForm","group","_id","username","required","email","password","ngOnInit","cargarUser","getUser","subscribe","data","error","console","agregarUser","valid","addUser","value","reset","actualizarUser","updateUser","eliminarUser","id","deleteUser","log","editarUser","patchValue","_","i0","ɵɵdirectiveInject","i1","UserService","i2","FormBuilder","_2","selectors","decls","vars","consts","template","RegisterComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","RegisterComponent_Template_button_click_30_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\Lexag\\Desktop\\minsaitAngularV2\\src\\client\\src\\app\\components\\register\\register.component.ts","C:\\Users\\Lexag\\Desktop\\minsaitAngularV2\\src\\client\\src\\app\\components\\register\\register.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { userModel } from 'src/app/models/userModel';\r\nimport { UserService } from 'src/app/services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  user: userModel[] = [];\r\n  userForm: FormGroup;\r\n\r\n  constructor(private userService: UserService, private fb: FormBuilder) {\r\n    this.userForm = this.fb.group({\r\n      _id: [''],\r\n      username: [\"\", Validators.required],\r\n      email: [\"\", Validators.required],\r\n      password: [\"\", Validators.required],\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.cargarUser();\r\n  }\r\n\r\n  cargarUser() {\r\n    this.userService.getUser().subscribe(\r\n      data => {\r\n        this.user = data;\r\n      },\r\n      error => {\r\n        console.error('Error al cargar user:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  agregarUser() {\r\n    if (this.userForm.valid) {\r\n      this.userService.addUser(this.userForm.value).subscribe(\r\n        () => {\r\n          this.cargarUser();\r\n          this.userForm.reset();\r\n        },\r\n        error => {\r\n          console.error('Error al agregar user:', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  actualizarUser() {\r\n    if (this.userForm.valid) {\r\n      this.userService.updateUser(this.userForm.value).subscribe(\r\n        () => {\r\n          this.cargarUser();\r\n          this.userForm.reset();\r\n        },\r\n        error => {\r\n          console.error('Error al actualizar user:', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  eliminarUser(id: string | undefined) {\r\n    if (id) {\r\n      this.userService.deleteUser(id).subscribe(\r\n        data => {\r\n          console.log('user eliminado:', data);\r\n          this.cargarUser();\r\n        },\r\n        error => {\r\n          console.error('Error al eliminar user:', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  editarUser(user: userModel) {\r\n    this.userForm.patchValue(user);\r\n  }\r\n}\r\n","<section class=\"vh-100\" style=\"background-color: #12163d;\">\r\n    <div class=\"container py-5 h-100\">\r\n      <div class=\"row d-flex justify-content-center align-items-center h-100\">\r\n        <div class=\"col col-xl-10\">\r\n          <div class=\"card\" style=\"border-radius: 1rem;\">\r\n            <div class=\"row g-0\">\r\n              <div class=\"col-md-6 col-lg-5 d-none d-md-block\">\r\n                <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp\"\r\n                  alt=\"login form\" class=\"img-fluid\" style=\"border-radius: 1rem 0 0 1rem;\" />\r\n              </div>\r\n              <div class=\"col-md-6 col-lg-7 d-flex align-items-center\">\r\n                <div class=\"card-body p-4 p-lg-5 text-black\">\r\n  \r\n                    <form [formGroup]=\"userForm\">\r\n                        <div class=\"d-flex align-items-center mb-3 pb-1\">\r\n                            <i class=\"fas fa-cubes fa-2x me-3\" style=\"color: #12163d;\"></i>\r\n                            <span class=\"h1 fw-bold mb-0\">Logo</span>\r\n                          </div>\r\n        \r\n                          <h5 class=\"fw-normal mb-3 pb-3\" style=\"letter-spacing: 1px;\">Sign into your account</h5>\r\n\r\n                        <div class=\"form-group\">\r\n                          <label for=\"username\" class=\"text-dart\">Username</label>\r\n                          <input type=\"text\"  class=\"form-control\" id=\"username\" name=\"username\" formControlName=\"username\" required>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <label for=\"email\" class=\"text-dart\">email</label>\r\n                            <input type=\"text\"  class=\"form-control\" id=\"email\" name=\"email\" formControlName=\"email\" required>\r\n                          </div>\r\n                          <div class=\"form-group\">\r\n                            <label for=\"password\" class=\"text-dart\">password</label>\r\n                            <input type=\"password\"  class=\"form-control\" id=\"password\" name=\"password\" formControlName=\"password\" required>\r\n                          </div>\r\n                       \r\n                        <div class=\"btn-group mt-2\" >\r\n                          <button type=\"button\" class=\"btn btn-primary\" (click)=\"agregarUser()\" >Registrarme</button>\r\n                        </div>\r\n                      </form>\r\n  \r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <script src=\"https://code.jquery.com/jquery-3.5.1.slim.min.js\"></script>\r\n  <script src=\"https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js\"></script>\r\n  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/flatly/bootstrap.min.css\" integrity=\"sha384-qF/QmIAj5ZaYFAeQcrQ6bfVMAh4zZlrGwTPY7T/M+iTTLJqJBJjwwnsE5Y0mV7QK\" crossorigin=\"anonymous\">"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}